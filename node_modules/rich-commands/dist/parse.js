"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const constants_1 = require("./constants");
const Parser_1 = require("./Parser");
const createRichArgv_1 = require("./utils/createRichArgv");
const createRichCommand_1 = require("./utils/createRichCommand");
/**
 * Parses the source string to a {@link RichArgv}.
 * @param source The source string.
 * @param options Parsing and processing options.
 * Parsing options override the {@link defaultParserOptions default ones},
 * if you want to disable a parsing option then you should explicitly set it to undefined.
 */
function parseArgs(source, options = {}) {
    const parser = new Parser_1.Parser(source, Object.assign(Object.assign({}, constants_1.defaultParserOptions), options));
    const parts = parser.commandParts();
    return createRichArgv_1.createRichArgv(parts, options);
}
exports.parseArgs = parseArgs;
/**
 * Tries to parse the source string to a {@link RichCommand}.
 * @param source The source string.
 * @param options Parsing and processing options.
 * Parsing options override the {@link defaultParserOptions default ones},
 * if you want to disable a parsing option then you should explicitly set it to undefined.
 * @returns A rich command if command was parsed successfully, null otherwise.
 */
function parseCommand(source, options = {}) {
    const parser = new Parser_1.Parser(source, Object.assign(Object.assign({}, constants_1.defaultParserOptions), options));
    const command = parser.command();
    if (!command) {
        return null;
    }
    const richCommand = createRichCommand_1.createRichCommand(command, options);
    return richCommand;
}
exports.parseCommand = parseCommand;
